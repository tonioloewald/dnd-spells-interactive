<style>
  ._component_ {
    overflow-y: scroll;
    overflow-y: overlay;
    height: 100%;
    position: relative;
    flex-direction: column;
    margin: 0;
    padding: 10px;
  }

  ._component_ h4 {
    margin: 5px 0;
    line-height: 20px;
    font-size: 18px;
  }

  ._component_ .spell:not(.expanded) .info {
    display: inline-block;
    vertical-align: center;
    line-height: 20px;
  }

  ._component_ .spell {
    background: var(--content-bg-color);
    padding: 2px 10px;
    margin-bottom: 10px;
    border-radius: 4px;
    position: relative;
  }

  ._component_ .spell:not(.expanded) .detail.detail {
    display: none;
  }

  ._component_ .spell.expanded .detail {
    display: block;
  }

  ._component_ .viewmode {
    position: absolute;
    top: 5px;
    right: 5px;
  }

  ._component_ .level {
    display: inline-block;
    width: 24px;
    height: 24px;
    line-height: 24px;
    font-size: 14px;
    color: white;
    background-color: var(--accent-color);
    text-align: center;
    border-radius: 99px;
    font-weight: bold;
    vertical-align: -3px;
  }

  ._component_ .spell:not(.expanded) .summary > * {
    display: inline-block;
  }

  ._component_ .character-class+.character-class:before {
    content: ', ';
  }

  ._component_ .field {
    display: inline-block;
    position: relative;
  }

  ._component_ .spell.expanded .field[title] {
    display: block;
  }

  ._component_ .spell.expanded .field[title]:before {
    font-weight: bold;
    color: royalblue;
    content: attr(title) ": ";
  }

  ._component_ .description {
    margin: 5px 0;
  }

  ._component_ .description p {
    margin: 0 0 5px;
  }

  .viewmode input {
    position: relative;
    left: -1000px;
  }

  .viewmode input+span {
    color: #aaa;
  }

  .viewmode input:checked+span {
    color: royalblue;
  }
</style>
<div
  class="spell" 
  data-list="_data_:name" 
  data-bind="class(expanded)=._expanded"
>
  <div class="summary">
    <h4>
      <span title="level" class="level" data-bind="text=.level"></span>
      <span data-bind="text=.name"></span>
    </h4>
    <div class="info">
      <span class="detail field" title="Classes">
        <span class="character-class" data-list=".classes" data-bind="text=.name"></span>
      </span>
      <span class="field" title="School" data-bind="text=.school.name"></span>
      <span class="field" title="Casting Time" data-bind="text=.casting_time"></span>
      <span class="field" title="Duration" data-bind="text=.duration"></span>
      <span class="field" title="Components" data-bind="text=.components"></span>
      <!-- seems to be a subtle bug in b8r which is stopping show_if from working
        if assigned to the inner-element -->
      <span class="detail" data-bind="show_if=.material">
        <span class="field" title="Material" data-bind="text=.material"></span>
      </span>
      <span class="field" title="Range" data-bind="text=.range"></span>
    </div>
  </div>
  <div class="description detail">
    <div>
      <b>Description</b>: 
      <p data-list=".desc" data-bind="text=."></p>
    </div>
    <div data-bind="show_if=.higher_level.length">
      <b>Higher Level</b>: 
      <p data-list=".higher_level" data-bind="text=."></p>
    </div>
    <i>See <span data-bind="text=.page"></span></i>
  </div>
  <label
    class="viewmode"
  >
    <input type="checkbox" data-bind="checked=._expanded">
    <span class="icon-paragraph-left3"></span>
  </label>
</div>